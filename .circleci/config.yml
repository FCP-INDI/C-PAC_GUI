version: 2

jobs:

  build-macos:
    macos:
      xcode: "9.0"
    environment:
      FL_OUTPUT_DIR: output
    steps:
      - checkout
      - run:
          command: |
            node --version

  build-linux:
    docker:
      - image: circleci/node:11.12.0
    steps:
      - checkout
      - run:
          command: |
            node --version
      # - restore_cache:
      #     keys:
      #       - deps-{{ checksum "yarn.lock" }}
      # - restore_cache:
      #     keys:
      #       - v1-electron
      # - run:
      #     command: yarn --frozen-lockfile
      # - save_cache:
      #     key: deps-{{ checksum "yarn.lock" }}
      #     paths:
      #       - node_modules
      # - run:
      #     command: yarn run package

workflows:
  version: 2
  build:
    jobs:
      - build-linux
      - build-macos
